<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Review Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>ReviewHub</h1>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="#" onclick="showProducts()">Products</a>
                <a href="#" onclick="showSearch()" id="searchLink">Search</a>
                <span id="authLinks">
                    <a href="#" onclick="showLogin()">Login</a>
                    <a href="#" onclick="showRegister()">Register</a>
                </span>
                <span id="userLinks" style="display: none;">
                    <a href="#" onclick="showProfile()">Profile</a>
                    <a href="#" onclick="showAdmin()" id="adminLink" style="display: none;">Admin</a>
                    <a href="#" onclick="logout()">Logout</a>
                </span>
            </div>
        </div>
    </nav>

    <div class="container">
        <div id="loginSection" class="section" style="display: none;">
            <div class="form-container">
                <h2>Login</h2>
                <form id="loginForm" onsubmit="login(event)">
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="loginUsername" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <div id="loginMessage" class="message"></div>
            </div>
        </div>

        <div id="registerSection" class="section" style="display: none;">
            <div class="form-container">
                <h2>Register</h2>
                <form id="registerForm" onsubmit="register(event)">
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="regUsername" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="regEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="regPassword" required>
                    </div>
                    <div class="form-group">
                        <label>Role (optional)</label>
                        <input type="text" id="regRole" placeholder="user">
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
                <div id="registerMessage" class="message"></div>
            </div>
        </div>

        <div id="productsSection" class="section">
            <h2>Products</h2>
            <div id="productsList" class="products-grid"></div>
        </div>

        <div id="productDetailSection" class="section" style="display: none;">
            <button onclick="showProducts()" class="btn btn-secondary">Back to Products</button>
            <div id="productDetail"></div>
            <div id="reviewForm" style="display: none;">
                <h3>Write a Review</h3>
                <form id="submitReviewForm" onsubmit="submitReview(event)">
                    <div class="form-group">
                        <label>Rating</label>
                        <select id="reviewRating" required>
                            <option value="5">5 Stars</option>
                            <option value="4">4 Stars</option>
                            <option value="3">3 Stars</option>
                            <option value="2">2 Stars</option>
                            <option value="1">1 Star</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" id="reviewTitle" required>
                    </div>
                    <div class="form-group">
                        <label>Review</label>
                        <textarea id="reviewContent" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Upload Image (optional)</label>
                        <input type="file" id="reviewImage" accept="image/*">
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Review</button>
                </form>
            </div>
            <div id="reviewsList"></div>
        </div>

        <div id="searchSection" class="section" style="display: none;">
            <h2>Search Products</h2>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search for products...">
                <button onclick="searchProducts()" class="btn btn-primary">Search</button>
            </div>
            <div id="searchResults" class="products-grid"></div>
        </div>

        <div id="profileSection" class="section" style="display: none;">
            <h2>My Profile</h2>
            <div id="profileInfo"></div>
            <div class="form-container">
                <h3>Update Profile</h3>
                <form id="updateProfileForm" onsubmit="updateProfile(event)">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="profileEmail">
                    </div>
                    <div class="form-group">
                        <label>Password (leave blank to keep current)</label>
                        <input type="password" id="profilePassword">
                    </div>
                    <div class="form-group">
                        <label>Role</label>
                        <input type="text" id="profileRole">
                    </div>
                    <button type="submit" class="btn btn-primary">Update Profile</button>
                </form>
            </div>
            <div id="profileMessage" class="message"></div>
        </div>

        <div id="adminSection" class="section" style="display: none;">
            <h2>Admin Dashboard</h2>
            <div class="admin-tabs">
                <button onclick="showAdminUsers()" class="btn btn-secondary">Users</button>
                <button onclick="showAdminReviews()" class="btn btn-secondary">Reviews</button>
            </div>
            <div id="adminContent"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
